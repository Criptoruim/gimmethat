{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rui\\\\Desktop\\\\gimmethat\\\\src\\\\components\\\\discoverproducts.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport '../index.css'; // Import the CSS file\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DiscoverProducts = ({\n  selectedCategory,\n  setSelectedCategory,\n  handleVote,\n  userProfile,\n  wishlistItems,\n  globalFavorites,\n  setUserProfile\n}) => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const response = await axios.get('http://localhost:3001/api/products');\n        setProducts(response.data);\n        setLoading(false);\n      } catch (err) {\n        setError('Failed to fetch products.');\n        setLoading(false);\n      }\n    };\n    fetchProducts();\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading products...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 21\n  }, this);\n\n  // Base URL for images\n  const imageBaseUrl = 'http://localhost:3001/uploads/';\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"section-title\",\n        children: \"Discover Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedCategory,\n          onChange: e => setSelectedCategory(e.target.value),\n          className: \"category-select\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"All Categories\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"food\",\n            children: \"Food\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"tech\",\n            children: \"Technology\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"fashion\",\n            children: \"Fashion\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"filter-button\",\n          children: \"\\uD83D\\uDD0D Filter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"card-title\",\n        children: \"\\uD83C\\uDF0E Top Wishlisted Products in Your Country\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-content\",\n        children: products.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.picture ? `${imageBaseUrl}${item.picture}` : 'default-image.png',\n              alt: item.name,\n              className: \"product-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"product-name\",\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"product-description\",\n                children: item.description || 'No description available'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"product-country\",\n                children: item.country\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"vote-count\",\n                  children: [\"\\u2764\\uFE0F \", item.votes || 0]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: userProfile.votedProducts.includes(item.id) ? 'voted-button' : 'vote-button',\n                    onClick: () => handleVote(item, 'wishlist'),\n                    disabled: userProfile.votedProducts.includes(item.id),\n                    children: userProfile.votedProducts.includes(item.id) ? 'Voted' : 'Vote'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(DiscoverProducts, \"3+N/VFIgZOBgubN9oS5aTzm2qqY=\");\n_c = DiscoverProducts;\nexport default DiscoverProducts;\nvar _c;\n$RefreshReg$(_c, \"DiscoverProducts\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","DiscoverProducts","selectedCategory","setSelectedCategory","handleVote","userProfile","wishlistItems","globalFavorites","setUserProfile","_s","products","setProducts","loading","setLoading","error","setError","fetchProducts","response","get","data","err","children","fileName","_jsxFileName","lineNumber","columnNumber","imageBaseUrl","className","value","onChange","e","target","map","item","src","picture","alt","name","description","country","votes","votedProducts","includes","id","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Rui/Desktop/gimmethat/src/components/discoverproducts.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport '../index.css'; // Import the CSS file\r\n\r\ninterface Product {\r\n  id: number;\r\n  name: string;\r\n  description: string;\r\n  country: string;\r\n  votes: number;\r\n  picture: string;  // This should be the filename or relative path\r\n}\r\n\r\ninterface UserProfile {\r\n  votedProducts: number[];\r\n  wishlistedProducts: number[];\r\n}\r\n\r\ninterface DiscoverProductsProps {\r\n  selectedCategory: string;\r\n  setSelectedCategory: React.Dispatch<React.SetStateAction<string>>;\r\n  handleVote: (item: Product, type: string) => void;\r\n  userProfile: UserProfile;\r\n  wishlistItems: Product[];\r\n  globalFavorites: Product[];\r\n  setUserProfile: React.Dispatch<React.SetStateAction<UserProfile>>;\r\n}\r\n\r\nconst DiscoverProducts: React.FC<DiscoverProductsProps> = ({\r\n  selectedCategory,\r\n  setSelectedCategory,\r\n  handleVote,\r\n  userProfile,\r\n  wishlistItems,\r\n  globalFavorites,\r\n  setUserProfile\r\n}) => {\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:3001/api/products');\r\n        setProducts(response.data);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setError('Failed to fetch products.');\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  if (loading) return <p>Loading products...</p>;\r\n  if (error) return <p>{error}</p>;\r\n\r\n  // Base URL for images\r\n  const imageBaseUrl = 'http://localhost:3001/uploads/';\r\n\r\n  return (\r\n    <>\r\n      <div className=\"section-header\">\r\n        <h2 className=\"section-title\">Discover Products</h2>\r\n        <div className=\"filter-container\">\r\n          <select\r\n            value={selectedCategory}\r\n            onChange={(e) => setSelectedCategory(e.target.value)}\r\n            className=\"category-select\"\r\n          >\r\n            <option value=\"all\">All Categories</option>\r\n            <option value=\"food\">Food</option>\r\n            <option value=\"tech\">Technology</option>\r\n            <option value=\"fashion\">Fashion</option>\r\n          </select>\r\n          <button className=\"filter-button\">🔍 Filter</button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"card\">\r\n        <h2 className=\"card-title\">\r\n          🌎 Top Wishlisted Products in Your Country\r\n        </h2>\r\n        <div className=\"card-content\">\r\n          {products.map(item => (\r\n            <div key={item.id} className=\"card\">\r\n              <div className=\"card-content\">\r\n                <img \r\n                  src={item.picture ? `${imageBaseUrl}${item.picture}` : 'default-image.png'} \r\n                  alt={item.name} \r\n                  className=\"product-image\" \r\n                />\r\n                <div className=\"product-info\">\r\n                  <h3 className=\"product-name\">{item.name}</h3>\r\n                  <p className=\"product-description\">{item.description || 'No description available'}</p>\r\n                  <p className=\"product-country\">{item.country}</p>\r\n                  <div className=\"product-actions\">\r\n                    <div className=\"vote-count\">\r\n                      ❤️ {item.votes || 0}\r\n                    </div>\r\n                    <div>\r\n                      <button\r\n                        className={userProfile.votedProducts.includes(item.id) ? 'voted-button' : 'vote-button'}\r\n                        onClick={() => handleVote(item, 'wishlist')}\r\n                        disabled={userProfile.votedProducts.includes(item.id)}\r\n                      >\r\n                        {userProfile.votedProducts.includes(item.id) ? 'Voted' : 'Vote'}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DiscoverProducts;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}