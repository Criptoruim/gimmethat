{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rui\\\\Desktop\\\\gimmethat\\\\src\\\\components\\\\addProduct.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport '../index.css'; // Ensure you have the appropriate styles defined\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AddProduct = ({\n  addingTo,\n  onAddProduct,\n  onCancel\n}) => {\n  _s();\n  const [newProductName, setNewProductName] = useState('');\n  const [newProductDescription, setNewProductDescription] = useState('');\n  const [newProductCountry, setNewProductCountry] = useState('');\n  const [picture, setPicture] = useState(null);\n  const [picturePreview, setPicturePreview] = useState(null);\n  const handleAddProduct = async () => {\n    try {\n      const formData = new FormData();\n      formData.append('name', newProductName);\n      formData.append('description', newProductDescription);\n      formData.append('country', newProductCountry);\n      if (picture) {\n        formData.append('picture', picture);\n      }\n\n      // Replace with your actual backend endpoint\n      const response = await axios.post('http://localhost:3001/api/products', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      // Handle success (e.g., update the product list in the parent component)\n      onAddProduct(response.data.name, response.data.description, response.data.country);\n\n      // Reset the form fields\n      setNewProductName('');\n      setNewProductDescription('');\n      setNewProductCountry('');\n      setPicture(null);\n      setPicturePreview(null);\n    } catch (error) {\n      console.error('There was an error adding the product!', error);\n    }\n  };\n  const handleFileChange = e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (file) {\n      setPicture(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setPicturePreview(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"modal-title\",\n          children: \"Add New Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"picture-upload inline-flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"avatar\",\n            type: \"file\",\n            id: \"file-input\",\n            accept: \"image/*\",\n            style: {\n              display: 'none'\n            },\n            onChange: handleFileChange,\n            placeholder: \"Product Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"upload-button\",\n            onClick: () => {\n              var _document$getElementB;\n              return (_document$getElementB = document.getElementById('file-input')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.click();\n            },\n            children: \"Upload Picture\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), picturePreview && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: picturePreview,\n            alt: \"Product Preview\",\n            className: \"picture-preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Product Name\",\n          className: \"input\",\n          value: newProductName,\n          onChange: e => setNewProductName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), addingTo === 'globalFavorites' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Description\",\n            className: \"input\",\n            value: newProductDescription,\n            onChange: e => setNewProductDescription(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Country\",\n            className: \"input\",\n            value: newProductCountry,\n            onChange: e => setNewProductCountry(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"add-button\",\n          onClick: handleAddProduct,\n          children: \"Add Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cancel-button\",\n          onClick: onCancel,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(AddProduct, \"Wty10Tb92GCDDGH5t4zihxkqSDE=\");\n_c = AddProduct;\nexport default AddProduct;\nvar _c;\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","AddProduct","addingTo","onAddProduct","onCancel","_s","newProductName","setNewProductName","newProductDescription","setNewProductDescription","newProductCountry","setNewProductCountry","picture","setPicture","picturePreview","setPicturePreview","handleAddProduct","formData","FormData","append","response","post","headers","data","name","description","country","error","console","handleFileChange","e","_e$target$files","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","id","accept","style","display","onChange","placeholder","onClick","_document$getElementB","document","getElementById","click","src","alt","value","_c","$RefreshReg$"],"sources":["C:/Users/Rui/Desktop/gimmethat/src/components/addProduct.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport '../index.css'; // Ensure you have the appropriate styles defined\n\ninterface AddProductProps {\n  addingTo: string;\n  onAddProduct: (name: string, description: string, country: string) => void;\n  onCancel: () => void;\n}\n\nconst AddProduct: React.FC<AddProductProps> = ({ addingTo, onAddProduct, onCancel }) => {\n  const [newProductName, setNewProductName] = useState('');\n  const [newProductDescription, setNewProductDescription] = useState('');\n  const [newProductCountry, setNewProductCountry] = useState('');\n  const [picture, setPicture] = useState<File | null>(null);\n  const [picturePreview, setPicturePreview] = useState<string | ArrayBuffer | null>(null);\n\n  const handleAddProduct = async () => {\n    try {\n      const formData = new FormData();\n      formData.append('name', newProductName);\n      formData.append('description', newProductDescription);\n      formData.append('country', newProductCountry);\n      if (picture) {\n        formData.append('picture', picture);\n      }\n\n      // Replace with your actual backend endpoint\n      const response = await axios.post('http://localhost:3001/api/products', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      // Handle success (e.g., update the product list in the parent component)\n      onAddProduct(response.data.name, response.data.description, response.data.country);\n\n      // Reset the form fields\n      setNewProductName('');\n      setNewProductDescription('');\n      setNewProductCountry('');\n      setPicture(null);\n      setPicturePreview(null);\n    } catch (error) {\n      console.error('There was an error adding the product!', error);\n    }\n  };\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      setPicture(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setPicturePreview(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal-container\">\n        <div>\n          <h3 className=\"modal-title\">Add New Product</h3>\n          <div className=\"picture-upload inline-flex\">            \n            <input className='avatar'\n              type=\"file\"\n              id=\"file-input\"\n              accept=\"image/*\"\n              style={{ display: 'none'}}\n              onChange={handleFileChange}\n              placeholder='Product Preview'\n            />\n            <button className=\"upload-button\" onClick={() => document.getElementById('file-input')?.click()}>\n              Upload Picture\n            </button>\n            {picturePreview && (\n              <img\n                src={picturePreview as string}\n                alt=\"Product Preview\"\n                className=\"picture-preview\"\n              />\n            )}\n          </div>\n        </div>\n        <div className=\"modal-body\">\n          <input\n            type=\"text\"\n            placeholder=\"Product Name\"\n            className=\"input\"\n            value={newProductName}\n            onChange={(e) => setNewProductName(e.target.value)}\n          />\n          {addingTo === 'globalFavorites' && (\n            <>\n              <input\n                type=\"text\"\n                placeholder=\"Description\"\n                className=\"input\"\n                value={newProductDescription}\n                onChange={(e) => setNewProductDescription(e.target.value)}\n              />\n              <input\n                type=\"text\"\n                placeholder=\"Country\"\n                className=\"input\"\n                value={newProductCountry}\n                onChange={(e) => setNewProductCountry(e.target.value)}\n              />\n            </>\n          )}\n        </div>\n        <div className=\"modal-footer\">\n          <button className=\"add-button\" onClick={handleAddProduct}>\n            Add Product\n          </button>\n          <button className=\"cancel-button\" onClick={onCancel}>\n            Cancel\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AddProduct;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}